<ion-header translucent>
  <ion-toolbar>
    <ion-title>Assign Equipment</ion-title>
    <ion-buttons slot="start">
      <ion-button (click)="dismiss()">Back</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content fullscreen>
  <div class="uk-card uk-background-muted uk-padding">
    <h3>Assign Equipment</h3>
    <img src="./assets/img/assign.svg" class="uk-align-center" style="height: 120px; margin-bottom: 10px;">
    <div>
      Eqipment Name <br>
      <b>{{equipmentsUsage?.equipment.name}}</b> <br>
      Description : <b>{{equipmentsUsage?.equipment.description}}</b><br>
      Room No <b>{{equipmentsUsage?.equipment.roomNo}}</b> <br>
      ID No <b>{{equipmentsUsage?.equipment.idNo}}</b> <br>
      
      <a href="{{equipmentsUsage?.equipment.positionInMap}}" target="_blank"> View Equipment Location</a> |
      <a routerLink='/dashboard/equipments/report/{{equipmentsUsage?.equipment.id}}'> View Report</a>|

    </div>
    <form [formGroup]="form" (ngSubmit)="submit()">


      <div class="uk-form-stacked">
        <div class="uk-margin">
          <br>
          <label class="uk-form-label" for="form-stacked-text"> How long (in hours) would you use this equipment</label>
          <div class="uk-text-danger">{{errorMessage}}</div>
         
          <div class="uk-form-controls"> 
            <input class="uk-input" required formControlName="hours" type="number" max="48"
              placeholder="Allocate Duration in hours" />
          </div>
        </div>
        <div class="uk-margin">
          <div class="uk-form-label">Your Location(v.1.1)</div>
          <div>
            Lat: {{currentPoint.lat}} <br>
            Lng: {{currentPoint.lng}} <br>
            <br>
            You are {{distance}} Km from Equipment Location
            <br>
            <br>
            
            <div id='map' class="uk-width-1-1" style="height: 250px;">
              <p>Loading Map please wait ......</p> 
            
            </div>
          </div>
        </div>
        <div class="uk-margin">
          <button type="submit" class="uk-button app-bg-primary-color" [disabled]='loading'>Assign
            Equipment
            <img *ngIf="loading" src="./assets/img/loader.svg" width="45" height="45">
          </button>
        </div>
      </div>
    </form>
  </div>
</ion-content>